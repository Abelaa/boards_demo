
<form formGroup="form" (ngSubmit)="onSubmit()" class="user-form">

  <mat-form-field [color]="email?.valid && 'accent'">
    <input matInput formControlName="email" type="email" placeholder="E-Mail" autocomplete="off" />

    <mat-error *ngIf="email?.invalid && email?.dirty">Invalid Email</mat-error>
  </mat-form-field>

  <mat-form-field [color]="password?.valid && 'accent'" *ngIf="!isReset">
    <input matInput formControlName="password" type="password" placeholder="Password" autocomplete="off" />

    <mat-error *ngIf="password?.invalid && password?.dirty">Invalid Password</mat-error>
  </mat-form-field>

  <mat-form-field [color]="passwordConfirm?.valid && 'accent'" *ngIf="isSignup">
    <input matInput formControlName="passwordConfirm" type="password" placeholder="Confirm Password" autocomplete="off" />

    <mat-error *ngIf="passwordConfirm?.invalid && passwordConfirm?.dirty">Password doesn't match.</mat-error>
  </mat-form-field>

  <mat-error class="server-error" *ngIf="serverMessage">{{ serverMessage }}</mat-error>

  <button mat-raised-button color="accent" type="submit"
    [disabled]="form.invalid || !passwordDoesMatch || loading">{{ type }}</button>

</form>